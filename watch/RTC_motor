#include <DS1302.h>
#include <Herkulex.h>
char* Read_Time;
int N1, N2, N3, N4;

DS1302 rtc(4, 5, 6);

void setup()
{
  rtc.halt(false);
  rtc.writeProtect(false);
  Serial.begin(115200);
  //rtc.setDOW(THURSDAY);        // Set Day-of-Week to FRIDAY
  //rtc.setTime(14, 45, 0);     // Set the time to 12:00:00 (24hr format)
  //rtc.setDate(8, 1, 2019);   // Set the date to August 6th, 2010
  Herkulex.begin(115200,10,11);
  Herkulex.reboot(1);
  delay(500); 
  Herkulex.initialize();
  delay(200);  
}

void loop()
{
  Read_Time = rtc.getTimeStr();
  N1 = (Read_Time[0]-48);
  N2 = (Read_Time[1]-48);
  N3 = (Read_Time[3]-48);
  N4 = (Read_Time[4]-48);
  Serial.print("and the time is: ");
  Serial.println(rtc.getTimeStr());
  if (N1 == 0 && N2 == 0) {
    Herkulex.moveOneAngle(1, 144, 1000, LED_GREEN);
  }
  else if (N1 == 0 && N2 == 5) {
    Herkulex.moveOneAngle(1, 72, 1000, LED_BLUE);
  }
  else if (N1 == 1 && N2 == 0) {
    Herkulex.moveOneAngle(1, 0, 1000, LED_GREEN);
  }
  else if (N1 == 1 && N2 == 5) {
    Herkulex.moveOneAngle(1, -72, 1000, LED_BLUE);
  }
  else if (N1 == 2 && N2 == 0) {
    Herkulex.moveOneAngle(1, -144, 1000, LED_GREEN);
  }
  delay (10000);
}